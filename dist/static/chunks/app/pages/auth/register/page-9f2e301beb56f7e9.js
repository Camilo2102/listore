(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[845],{95633:function(e,t,i){Promise.resolve().then(i.bind(i,58909))},45174:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var n=i(9268);function r(e){let{title:t,children:i}=e;return(0,n.jsxs)("div",{className:"md:p-6 lg:p-7 p-5 grid justify-content-center",style:{border:"1px solid",borderRadius:"30px",borderColor:"rgba(0,0,0,0.5)"},children:[(0,n.jsx)("div",{className:"col-12 text-center",children:(0,n.jsx)("h2",{className:"text-5xl font-bold",style:{marginTop:"10px",marginBottom:"10px"},children:t})}),(0,n.jsx)("div",{className:"col-12",children:i})]})}},34849:function(e,t,i){"use strict";i.d(t,{P:function(){return a},r:function(){return l}});var n=i(9268),r=i(86006);let s=(0,r.createContext)({});function l(){return(0,r.useContext)(s)}function a(e){let{children:t}=e,[i,l]=(0,r.useState)(!1);return(0,n.jsx)(s.Provider,{value:{isLoading:i,startLoading:()=>l(!0),stopLoading:()=>l(!1)},children:t})}},24139:function(e,t,i){"use strict";i.d(t,{KQ:function(){return c},QR:function(){return o}});var n=i(9268),r=i(56008),s=i(86006),l=i(34849);let a=(0,s.createContext)({});function o(){return(0,s.useContext)(a)}let c=e=>{let{children:t}=e,i=(0,r.useRouter)(),o=(0,r.usePathname)(),c=(0,r.useSearchParams)(),{startLoading:u,stopLoading:d}=(0,l.r)(),[m,p]=(0,s.useState)(""),v=e=>(""!==m&&(e+="?version=".concat(m)),e),f=()=>{let e=c.get("version");p(""),e&&p(e)};return(0,s.useEffect)(()=>{f(),d()},[o,c]),(0,n.jsx)(a.Provider,{value:{goToRoute:e=>{u();let t=v(e);if(o===t)return d();i.push(t)},version:m},children:t})}},82348:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var n=i(92449);function r(){let e="auth",{httpGet:t,httpPost:i,httpDelete:r}=(0,n.Z)();return{login:t=>i(e+"/login",!1,t),register:t=>i(e+"/register",!1,t),registerUser:t=>i(e+"/registerUser",!0,t),validateCredential:i=>t(e+"/validateCredential?credential=".concat(i),!1),disableUser:t=>r(e+"/disableUser?id=".concat(t),!0),enableUser:t=>i(e+"/enableUser",!1,t),sendRecoveryEmail:i=>t(e+"/recoverPassword?mail="+i,!1),validateToken:()=>t(e+"/validateToken",!0)}}},58909:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return b}});var n=i(9268),r=i(52899),s=i(78980),l=i(86006),a=i(45174),o=i(39451),c=i(85188);function u(e){let{onValidSubmit:t}=e,{requiered:i,maxLenght:u,minLenght:d}=(0,s.Z)(),[m,p]=(0,l.useState)([{field:"name",value:"",description:"Nombre",colSize:12,type:r.h.INPUT,validators:[i,u(36),d(3)],invalid:!1,message:!0,icon:"pi-home"},{field:"phone",value:"",description:"Tel\xe9fono",colSize:12,type:r.h.INPUT,validators:[i,u(13),d(3)],invalid:!1,message:!0,icon:"pi-phone"},{field:"description",value:"",description:"Descripci\xf3n",type:r.h.INPUT,colSize:12,validators:[i,u(36),d(3)],invalid:!1,message:!0,icon:"pi-pencil"}]),[v,f,h,g]=(0,c.p)(m);return(0,n.jsx)("div",{className:"lg:p-6 md:p-10 p-4",children:(0,n.jsx)(a.Z,{title:"Registro de compa\xf1ia",children:(0,n.jsx)(o.Z,{buttonLabel:"Continuar",form:f,value:v,setValue:h,submit:e=>{e.preventDefault();let[i,n]=g();p([...i]),n&&t(f.getFormControlValues())}})})})}var d=i(3702),m=i(24139);function p(e){let{onValidSubmit:t}=e,{goToRoute:i}=(0,m.QR)(),{requiered:u,maxLenght:p,minLenght:v}=(0,s.Z)(),[f,h]=(0,l.useState)([{field:"name",value:"",description:"Nombre",colSize:12,type:r.h.INPUT,validators:[u,p(36),v(3)],invalid:!1,message:!0,icon:"pi-user"},{field:"userName",value:"",description:"Usuario",colSize:12,type:r.h.INPUT,validators:[u,p(36),v(3)],invalid:!1,message:!0,icon:"pi-user"},{field:"mail",value:"",description:"Correo",icon:"pi-envelope",type:r.h.INPUT,colSize:12,validators:[u,p(36),v(3)],invalid:!1,message:!0}]),[g,x,j,N]=(0,c.p)(f);return(0,n.jsx)("div",{className:"lg:p-6 md:p-10 p-4",children:(0,n.jsx)(a.Z,{title:"Registro de usuario",children:(0,n.jsx)(o.Z,{buttonLabel:"Continuar",form:x,value:g,setValue:j,submit:e=>{e.preventDefault();let[i,n]=N();h([...i]),n&&t(1,x.getFormControlValues())},register:[(0,n.jsx)(d.z,{type:"button",label:"Ya tengo cuenta",onClick:()=>i("/pages/auth/login"),text:!0},"account-button")]})})})}var v=i(80665),f=i(67121),h=i(82348),g=i(61804),x=i(91148),j=i(76394),N=i.n(j);function b(){let{goToRoute:e}=(0,m.QR)(),{register:t}=(0,h.Z)(),[i,r]=(0,l.useState)(0),{isValidRes:s}=(0,g.Z)(),[a,o]=(0,v.w)({active:"N",name:"",role:"M"}),[c,d]=(0,v.w)({mail:"",password:"",userName:""}),[j,b]=(0,v.w)({name:"",description:"",phone:""}),[y,C]=(0,l.useState)(),{showSuccess:S}=(0,x.V)(),w=(e,t)=>{r(e);let{name:i,userName:n,mail:s}=t;o({name:i}),d({userName:n,mail:s,password:null})},U=e=>{b(e),C(!0)};return(0,l.useEffect)(()=>{y&&(t({user:a,credential:c,company:j}).then(t=>{s(t)&&(S(f.V.MESSAGE_SUCCESS,"Creado con exito"),e("/pages/auth/passwordChange?token="+t.temporalToken))}),C(!1))},[i,y]),0===i?(0,n.jsxs)("div",{className:"flex justify-content-center align-items-center",style:{height:"100vh",width:"100vw"},children:[(0,n.jsx)("div",{className:"lg:col-6 md:col-6 col-12 lg:p-8",children:(0,n.jsx)(p,{onValidSubmit:(e,t)=>w(e,t)})}),(0,n.jsx)(N(),{src:"/registerUser.svg",alt:"register",style:{maxWidth:"750px",width:"80%"}}),(0,n.jsx)("div",{className:"lg:col-6 md:col-6 hidden md:flex justify-content-center align-items-center "})]}):(0,n.jsxs)("div",{className:"flex justify-content-center align-items-center",style:{height:"100vh",width:"100vw"},children:[(0,n.jsx)("div",{className:"lg:col-6 md:col-6 hidden md:flex justify-content-center align-items-center",children:(0,n.jsx)(N(),{src:"/registerCompany.svg",alt:"register",style:{maxWidth:"750px",width:"80%"}})}),(0,n.jsx)("div",{className:"lg:col-6 md:col-6 col-12 lg:p-8",children:(0,n.jsx)(u,{onValidSubmit:e=>U(e)})})]})}}},function(e){e.O(0,[87,546,123,313,856,780,977,831,253,769,744],function(){return e(e.s=95633)}),_N_E=e.O()}]);