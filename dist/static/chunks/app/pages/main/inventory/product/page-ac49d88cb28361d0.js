(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[493],{78207:function(e,t,r){Promise.resolve().then(r.bind(r,16881))},52845:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(9268);function i(e){let{title:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"col-12 flex justify-content-center",children:(0,n.jsx)("h2",{style:{fontSize:"50px",color:"#9e6a90",fontStyle:"italic",marginTop:"1px"},children:t})})})}},59808:function(e,t,r){"use strict";r.d(t,{A:function(){return n}});class n{}n.INVENTORY="inventory",n.PRODUCT="product",n.USER="user",n.SUPPLIER="supplier",n.SPENT="spent",n.ATTRIBUTES="atributes",n.SALE="sale",n.BUY="buy",n.PATTERN="pattern",n.KINDOFPRODUCT="kindOfProduct",n.CHARACTERISTIC="characteristic"},34849:function(e,t,r){"use strict";r.d(t,{P:function(){return a},r:function(){return l}});var n=r(9268),i=r(86006);let o=(0,i.createContext)({});function l(){return(0,i.useContext)(o)}function a(e){let{children:t}=e,[r,l]=(0,i.useState)(!1);return(0,n.jsx)(o.Provider,{value:{isLoading:r,startLoading:()=>l(!0),stopLoading:()=>l(!1)},children:t})}},48555:function(e,t,r){"use strict";r.d(t,{H:function(){return a},l:function(){return c}});var n=r(9268),i=r(73855),o=r(86006);let l=(0,o.createContext)({});function a(){return(0,o.useContext)(l)}function c(e){let{children:t}=e,[r,o]=(0,i.W)("inventory");return(0,n.jsx)(l.Provider,{value:{mainInventory:r,setMainInventory:o},children:t})}},24139:function(e,t,r){"use strict";r.d(t,{KQ:function(){return u},QR:function(){return c}});var n=r(9268),i=r(56008),o=r(86006),l=r(34849);let a=(0,o.createContext)({});function c(){return(0,o.useContext)(a)}let u=e=>{let{children:t}=e,r=(0,i.useRouter)(),c=(0,i.usePathname)(),u=(0,i.useSearchParams)(),{startLoading:s,stopLoading:f}=(0,l.r)(),[d,p]=(0,o.useState)(""),v=e=>(""!==d&&(e+="?version=".concat(d)),e),m=()=>{let e=u.get("version");p(""),e&&p(e)};return(0,o.useEffect)(()=>{m(),f()},[c,u]),(0,n.jsx)(a.Provider,{value:{goToRoute:e=>{s();let t=v(e);if(c===t)return f();r.push(t)},version:d},children:t})}},93030:function(e,t,r){"use strict";r.d(t,{$h:function(){return a},GW:function(){return c}});var n=r(9268),i=r(73855),o=r(86006);let l=(0,o.createContext)({});function a(){return(0,o.useContext)(l)}function c(e){let{children:t}=e,[r,o]=(0,i.W)("product");return(0,n.jsx)(l.Provider,{value:{product:r,setProduct:o},children:t})}},21891:function(e,t,r){"use strict";r.d(t,{Fs:function(){return c},jB:function(){return a}});var n=r(9268),i=r(73855),o=r(86006);let l=(0,o.createContext)({});function a(){return(0,o.useContext)(l)}function c(e){let{children:t}=e,[r,o]=(0,i.W)("supplier");return(0,n.jsx)(l.Provider,{value:{supplier:r,setSupplier:o},children:t})}},1861:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(67121),i=r(57932);function o(){return{showConfirmDelete:(e,t)=>{(0,i.V)({message:e,header:n.V.MESSAGE_HEAER_DELETE,icon:"pi pi-exclamation-triangle",accept:t})}}}},19458:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(86006);function i(e,t){let r=(0,n.useRef)(!1);(0,n.useEffect)(()=>{r.current?e():r.current=!0},t)}},16881:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var n=r(9268),i=r(86006),o=r(67121),l=r(3702),a=r(70686),c=r(11993),u=r(52899),s=r(78980),f=r(85188),d=r(39451),p=r(93030),v=r(48555),m=r(59808),b=r(87823),g=r(61804),y=r(91148);function h(e){let{inventorySelected:t,visible:r,setVisible:l}=e,{mainInventory:a,setMainInventory:h}=(0,v.H)(),{create:S}=(0,b.Z)(m.A.PRODUCT),{isValidRes:E}=(0,g.Z)(),{showSuccess:j}=(0,y.V)(),{requiered:C,maxLenght:P,minLenght:x}=(0,s.Z)(),[N,O]=(0,i.useState)([{field:"supplier",value:"",description:"Proveedores",colSize:12,type:u.h.INPUTHELPER,validators:[C],invalid:!1,message:!0,columns:[{field:"name",header:"Nombre"},{field:"description",header:"Descripcion"},{field:"phone",header:"Telefono"}],icon:"pi-user",service:m.A.SUPPLIER,filter:{required:{inventory:{id:null==a?void 0:a.id}},values:[{field:"name",label:"Nombre",value:""},{field:"description",label:"Descripcion",value:""},{field:"address",label:"Direcci\xf3n",value:""},{field:"mail",label:"Correo",value:""},{field:"phone",label:"T\xe9lefono",value:0}]}},{field:"name",value:"",description:"Nombre",colSize:12,type:u.h.INPUT,validators:[C,P(60),x(3)],invalid:!1,message:!0,icon:"pi-user"},{field:"unitaryValue",value:"",description:"Valor unitario",colSize:12,type:u.h.NUMBER,validators:[C,P(200),x(1)],invalid:!1,message:!0,icon:"pi-dollar"},{field:"wholeSalePrice",value:"",description:"Precio por mayor",colSize:12,type:u.h.NUMBER,validators:[C,P(60),x(1)],invalid:!1,message:!0,icon:"pi-dollar"},{field:"category",value:"",description:"Categor\xeda",colSize:12,type:u.h.INPUT,validators:[C,P(60),x(3)],invalid:!1,message:!0,icon:"pi-bars"}]),[T,A,R,D]=(0,f.p)(N),[U,V]=(0,i.useState)(!1),{product:w,setProduct:_}=(0,p.$h)();return(0,i.useEffect)(()=>{void 0===w||U||R(w)},[w,U]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(c.Z,{title:"Registro de producto",visible:r,setVisible:l,children:(0,n.jsx)(d.Z,{form:A,value:T,setValue:R,submit:e=>{e.preventDefault();let[r,n]=D();O([...r]),n&&(T.inventory={id:a.id},delete T.namesupplier,T.supplier={id:T.supplier.id},T.amount=0,S(!0,T).then(e=>{E(e)&&(j(o.V.MESSAGE_SUCCESS,t?o.V.MESSAGE_UPDATE_SUCCESS:o.V.MESSAGE_CREATE_SUCCESS),l(!1),_(void 0))}))},buttonLabel:"Crear"})})})}var S=r(290),E=r(52845),j=r(24139),C=r(21891),P=r(1861),x=r(19458);function N(){let{goToRoute:e}=(0,j.QR)(),{mainInventory:t,setMainInventory:r}=(0,v.H)(),{deleteData:c}=(0,b.Z)(m.A.PRODUCT),{reloadData:u,setReloadData:s}=(0,S.S)(),{supplier:f,setSupplier:d}=(0,C.jB)(),{showConfirmDelete:N}=(0,P.Z)(),{isValidRes:O}=(0,g.Z)(),{showSuccess:T}=(0,y.V)(),A={required:{inventory:{id:f?f.inventory.id:null==t?void 0:t.id},supplier:{id:f?null==f?void 0:f.id:void 0}},values:[{field:"name",label:"Nombre",value:""},{field:"category",label:"Categoria",value:""},{field:"unitaryValue",label:"Precio unitario",value:0},{field:"wholeSalePrice",label:"Precio al por mayor",value:0},{field:"amount",label:"cantidad",value:0}]},{product:R,setProduct:D}=(0,p.$h)(),U=[{field:"name",header:"Nombre"},{field:"unitaryValue",header:"Valor Unitario"},{field:"wholeSalePrice",header:"Precio por Mayor"},{field:"supplierName",header:"Proveedor"},{field:"category",header:"Categoria"},{field:"amount",header:"Cantidad"},{field:"CRUDupdate",header:"Actualizar",action:e=>{D(e),_(!0)}},{field:"CRUDdelete",header:"Eliminar",action:e=>{N(o.V.MESSAGE_BODY_DELETE+e,V(e))}}],V=e=>()=>{c(!0,e.id).then(e=>{O(e)&&(T(o.V.MESSAGE_SUCCESS,o.V.MESSAGE_DELETE_SUCCESS),D(void 0),s(!0))})},[w,_]=(0,i.useState)(!1);return(0,x.Z)(()=>{w||s(!0)},[w]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex justify-content-center align-items-center",style:{minHeight:"100vh",overflowY:"auto"},children:[(0,n.jsxs)("div",{className:"grid",style:{width:"90%"},children:[(0,n.jsx)(E.Z,{title:"Productos"}),(0,n.jsx)("div",{className:"col-12 flex justify-content-start",children:(0,n.jsx)(l.z,{label:"Nuevo",icon:"pi pi-inbox",onClick:()=>{_(!0),D(void 0)}})}),(0,n.jsx)("div",{className:"col-12 flex justify-content-center",children:(0,n.jsx)(a.Z,{columns:U,baseFilter:A,onRowSelect:t=>{D(t.data),e("/pages/main/inventory/product/subProduct")},endpoint:m.A.PRODUCT,customMap:e=>{var t;return e.supplierName=null===(t=e.supplier)||void 0===t?void 0:t.name,e}})})]}),w&&(0,n.jsx)(h,{visible:w,setVisible:_})]})})}},56008:function(e,t,r){e.exports=r(30794)},57932:function(e,t,r){"use strict";r.d(t,{Q:function(){return h},V:function(){return y}});var n=r(86006),i=r(63142),o=r(3702),l=r(24390),a=r(465),c=r(94417),u=r(36020),s=r(35942);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,l,a=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=r(66878).V.extend({defaultProps:{__TYPE:"ConfirmDialog",tagKey:void 0,visible:void 0,message:null,rejectLabel:null,acceptLabel:null,icon:null,rejectIcon:null,acceptIcon:null,rejectClassName:null,acceptClassName:null,className:null,appendTo:null,footer:null,breakpoints:null,onHide:null,accept:null,reject:null,children:void 0}});function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){!function(e,t,r){var n;n=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===v(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=g(g({},e),{visible:void 0===e.visible||e.visible})).visible&&c.F.emit("confirm-dialog",e),{show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c.F.emit("confirm-dialog",g(g(g({},e),t),{visible:!0}))},hide:function(){c.F.emit("confirm-dialog",{visible:!1})}}},h=n.memo(n.forwardRef(function(e,t){var r,d,v,b,y,h,S,E,j=n.useContext(i.Ou),C=m.getProps(e,j),P=p(n.useState(C.visible),2),x=P[0],N=P[1],O=p(n.useState(!1),2),T=O[0],A=O[1],R=n.useRef(null),D=n.useRef(!1),U=function(){return R.current||C},V=function(e){return(R.current||C)[e]},w=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return s.gb.getPropValue(V(e),r)},_=V("acceptLabel")||(0,i.qJ)("accept"),I=V("rejectLabel")||(0,i.qJ)("reject"),L=m.setMetaData({props:C,state:{visible:x}}).ptm,F=function(){D.current||(D.current=!0,w("accept"),M("accept"))},Z=function(){D.current||(D.current=!0,w("reject"),M("reject"))},G=function(){N(!0),D.current=!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cancel";N(!1),w("onHide",{result:e})},k=function(e){if(e.tagKey===C.tagKey){var t=x!==e.visible;V("target")===e.target||C.target?t&&(R.current=e,e.visible?G():M()):(M(),R.current=e,A(!0))}};n.useEffect(function(){C.visible?G():M()},[C.visible]),n.useEffect(function(){return C.target||C.message||c.F.on("confirm-dialog",k),function(){c.F.off("confirm-dialog",k)}},[C.target]),(0,a.rf)(function(){T&&G()},[T]),(0,a.zq)(function(){c.F.off("confirm-dialog",k)}),n.useImperativeHandle(t,function(){return{props:C,confirm:k}});var z=(r=U(),d=(0,s.AK)("p-confirm-dialog",V("className")),v=s.gb.getJSXElement(V("message"),r),b=(0,s.dG)({className:"p-confirm-dialog-icon"},L("icon")),y=s.Cz.getJSXIcon(V("icon"),g({},b),{props:r}),h=function(){var e=(0,s.AK)("p-confirm-dialog-accept",V("acceptClassName")),t=(0,s.AK)("p-confirm-dialog-reject",{"p-button-text":!V("rejectClassName")},V("rejectClassName")),r=(0,s.dG)({label:I,icon:V("rejectIcon"),className:t,onClick:Z},L("rejectButton")),i=(0,s.dG)({label:_,icon:V("acceptIcon"),className:e,onClick:F},L("acceptButton")),l=n.createElement(n.Fragment,null,n.createElement(o.z,r),n.createElement(o.z,f({},i,{autoFocus:!0})));if(V("footer")){var a={accept:F,reject:Z,acceptClassName:e,rejectClassName:t,acceptLabel:_,rejectLabel:I,element:l,props:U()};return s.gb.getJSXElement(V("footer"),a)}return l}(),S=(0,s.dG)({className:"p-confirm-dialog-message"},L("message")),E=(0,s.dG)({visible:x,className:d,footer:h,onHide:M,breakpoints:V("breakpoints"),pt:r.pt},m.getOtherProps(r)),n.createElement(l.V,E,y,n.createElement("span",S,v)));return n.createElement(u.h,{element:z,appendTo:V("appendTo")})}));h.displayName="ConfirmDialog"}},function(e){e.O(0,[87,546,123,313,856,780,831,253,769,744],function(){return e(e.s=78207)}),_N_E=e.O()}]);