(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{44182:function(e,n,t){Promise.resolve().then(t.bind(t,96947))},3275:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(9268),i=t(70686),o=t(56008),s=t(59808),a=t(97340);function c(e){let{columns:n,handleSelection:t,showReport:c=!0}=e;(0,o.useRouter)();let{getCredentials:l}=(0,a.Z)(),u={values:[{field:"category",label:"Categor\xeda",value:""},{field:"description",label:"Descripci\xf3n",value:""},{field:"name",label:"Nombre",value:""}],required:{company:{id:l().company}}};return(0,r.jsx)(i.Z,{baseFilter:u,columns:n,onRowSelect:t,endpoint:s.A.INVENTORY,showRepotGenerator:c})}},44920:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var r=t(9268),i=t(86006),o=t(3702),s=t(11993),a=t(48555),c=t(87823),l=t(59808),u=t(3275),d=t(24139),f=t(97340);function v(e){let{inventorySelected:n,visible:t,setVisible:o}=e,{goToRoute:v}=(0,d.QR)(),{getAllByFilter:p}=(0,c.Z)(l.A.INVENTORY),[m,b]=(0,i.useState)([]),{getCredentials:x}=(0,f.Z)(),[h,C]=(0,i.useState)({category:"",company:{id:x().company},description:"",name:""}),{mainInventory:g,setMainInventory:j}=(0,a.H)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.Z,{title:"Selecione un inventario",visible:t,setVisible:o,children:(0,r.jsx)(u.Z,{columns:[{field:"name",header:"Nombre"},{field:"description",header:"Descripci\xf3n"},{field:"category",header:"Categoria"}],handleSelection:e=>{j(e.data),o(!1),v("/pages/main/inventory/product")},showReport:!1})})})}t(94699);var p=t(20379),m=t(45770);function b(){let{getValue:e}=(0,m.Z)(),{goToRoute:n,version:t}=(0,d.QR)(),[s,a]=(0,i.useState)(!1),[c,l]=(0,i.useState)(!0),[u,f]=(0,i.useState)(0),{setAuthorized:b}=(0,p.E)(),x=e("role"),h=()=>{f(window.innerWidth),window.innerWidth<=767?l(!1):l(!0)};(0,i.useEffect)(()=>(h(),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}),[]);let C=[{icon:"pi pi-user",label:"Usuarios",roles:["C","M"],command:()=>{n("/pages/main/user")}},{icon:"pi pi-th-large",label:"Inventarios",roles:["C","M"],command:()=>{n("/pages/main/inventory")}},{icon:"pi pi-inbox",label:"Productos",roles:["C","M"],command:()=>{a(!0)}},{icon:"pi pi-users",label:"Proveedores",roles:["C","M"],command:()=>{n("/pages/main/inventory/supplier")}},{icon:"pi pi-shopping-cart",label:"Compras",roles:["C","M","D"],command:()=>{n("/pages/main/buy")}},{icon:"pi pi-dollar",label:"Ventas",roles:["C","M","D","P","G"],command:()=>{n("/pages/main/sale")}},{icon:"pi pi-money-bill",label:"Gastos",roles:["C","M","D","P"],command:()=>{n("/pages/main/spent")}}].filter(e=>null!==x&&e.roles.includes(x)),g=()=>{l(e=>!e)};return(0,r.jsxs)("div",{children:[""!==t&&(0,r.jsxs)("div",{className:"navigation",children:[(0,r.jsx)(o.z,{className:"back",icon:"pi pi-arrow-left",onClick:()=>{window.history.back()}}),(0,r.jsx)(o.z,{className:"forward",icon:"pi pi-arrow-right",onClick:()=>{window.history.forward()}})]}),(0,r.jsxs)("div",{className:"navbar-container ".concat(c?"visible":""),children:[(0,r.jsx)("div",{className:"navbar-icons-container",onClick:()=>u<=767&&g(),children:C.map((e,n)=>(0,r.jsx)(o.z,{icon:e.icon,title:e.label,className:"navbar-icon",onClick:e.command,label:u<=767?e.label:""},n))}),(0,r.jsx)("div",{className:"navbar-power-off-container",children:(0,r.jsx)(o.z,{icon:"pi pi-power-off",className:"navbar-icon2",title:"Cerrar sesi\xf3n",label:u<=767?"Salir":"",onClick:()=>{b(!1)}})}),s&&(0,r.jsx)(v,{visible:s,setVisible:a})]}),u<=767&&(0,r.jsx)(o.z,{icon:"pi pi-bars",className:"navbar-toggle-btn ".concat(c?"visible":""),onClick:g}),c&&(0,r.jsx)(v,{visible:s,setVisible:a})]})}},59808:function(e,n,t){"use strict";t.d(n,{A:function(){return r}});class r{}r.INVENTORY="inventory",r.PRODUCT="product",r.USER="user",r.SUPPLIER="supplier",r.SPENT="spent",r.ATTRIBUTES="atributes",r.SALE="sale",r.BUY="buy",r.PATTERN="pattern",r.KINDOFPRODUCT="kindOfProduct",r.CHARACTERISTIC="characteristic"},34849:function(e,n,t){"use strict";t.d(n,{P:function(){return a},r:function(){return s}});var r=t(9268),i=t(86006);let o=(0,i.createContext)({});function s(){return(0,i.useContext)(o)}function a(e){let{children:n}=e,[t,s]=(0,i.useState)(!1);return(0,r.jsx)(o.Provider,{value:{isLoading:t,startLoading:()=>s(!0),stopLoading:()=>s(!1)},children:n})}},48555:function(e,n,t){"use strict";t.d(n,{H:function(){return a},l:function(){return c}});var r=t(9268),i=t(73855),o=t(86006);let s=(0,o.createContext)({});function a(){return(0,o.useContext)(s)}function c(e){let{children:n}=e,[t,o]=(0,i.W)("inventory");return(0,r.jsx)(s.Provider,{value:{mainInventory:t,setMainInventory:o},children:n})}},24139:function(e,n,t){"use strict";t.d(n,{KQ:function(){return l},QR:function(){return c}});var r=t(9268),i=t(56008),o=t(86006),s=t(34849);let a=(0,o.createContext)({});function c(){return(0,o.useContext)(a)}let l=e=>{let{children:n}=e,t=(0,i.useRouter)(),c=(0,i.usePathname)(),l=(0,i.useSearchParams)(),{startLoading:u,stopLoading:d}=(0,s.r)(),[f,v]=(0,o.useState)(""),p=e=>(""!==f&&(e+="?version=".concat(f)),e),m=()=>{let e=l.get("version");v(""),e&&v(e)};return(0,o.useEffect)(()=>{m(),d()},[c,l]),(0,r.jsx)(a.Provider,{value:{goToRoute:e=>{u();let n=p(e);if(c===n)return d();t.push(n)},version:f},children:n})}},93030:function(e,n,t){"use strict";t.d(n,{$h:function(){return a},GW:function(){return c}});var r=t(9268),i=t(73855),o=t(86006);let s=(0,o.createContext)({});function a(){return(0,o.useContext)(s)}function c(e){let{children:n}=e,[t,o]=(0,i.W)("product");return(0,r.jsx)(s.Provider,{value:{product:t,setProduct:o},children:n})}},88865:function(e,n,t){"use strict";t.d(n,{$E:function(){return a},Mn:function(){return c}});var r=t(9268),i=t(73855),o=t(86006);let s=(0,o.createContext)({});function a(){return(0,o.useContext)(s)}function c(e){let{children:n}=e,[t,o]=(0,i.W)("subProduct");return(0,r.jsx)(s.Provider,{value:{subProduct:t,setSubProduct:o},children:n})}},21891:function(e,n,t){"use strict";t.d(n,{Fs:function(){return c},jB:function(){return a}});var r=t(9268),i=t(73855),o=t(86006);let s=(0,o.createContext)({});function a(){return(0,o.useContext)(s)}function c(e){let{children:n}=e,[t,o]=(0,i.W)("supplier");return(0,r.jsx)(s.Provider,{value:{supplier:t,setSupplier:o},children:n})}},82348:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(92449);function i(){let e="auth",{httpGet:n,httpPost:t,httpDelete:i}=(0,r.Z)();return{login:n=>t(e+"/login",!1,n),register:n=>t(e+"/register",!1,n),registerUser:n=>t(e+"/registerUser",!0,n),validateCredential:t=>n(e+"/validateCredential?credential=".concat(t),!1),disableUser:n=>i(e+"/disableUser?id=".concat(n),!0),enableUser:n=>t(e+"/enableUser",!1,n),sendRecoveryEmail:t=>n(e+"/recoverPassword?mail="+t,!1),validateToken:()=>n(e+"/validateToken",!0)}}},19458:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(86006);function i(e,n){let t=(0,r.useRef)(!1);(0,r.useEffect)(()=>{t.current?e():t.current=!0},n)}},96947:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var r=t(9268),i=t(44920),o=t(48555),s=t(21891),a=t(93030),c=t(88865),l=t(20379),u=t(24139),d=t(82348),f=t(61804),v=t(45770),p=t(19458),m=t(56008);function b(e){let{children:n}=e;return!function(){let{goToRoute:e}=(0,u.QR)(),{validateToken:n}=(0,d.Z)(),t=(0,m.usePathname)(),{authorized:r,setAuthorized:i}=(0,l.E)(),{isValidRes:o}=(0,f.Z)(),{deleteStorage:s}=(0,v.Z)(),a=()=>{s(),e("/pages/auth/login")},c=()=>t.includes("main"),b=()=>{c&&!r&&n().then(e=>{o(e)||a()})},x=()=>!c||!!r||(a(),!1);(0,p.Z)(()=>{if(!x())return;let e=setInterval(b,3e4);return()=>clearInterval(e)},[r])}(),(0,r.jsx)(o.l,{children:(0,r.jsx)(s.Fs,{children:(0,r.jsx)(a.GW,{children:(0,r.jsxs)(c.Mn,{children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)("div",{className:"lg:ml-5 md:ml-6",children:n})]})})})})}},94699:function(){},56008:function(e,n,t){e.exports=t(30794)}},function(e){e.O(0,[87,546,123,313,856,780,831,253,769,744],function(){return e(e.s=44182)}),_N_E=e.O()}]);